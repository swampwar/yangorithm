package TCT.JavaA_2018;

import java.util.ArrayList;
import java.util.List;

public class _03Malware {
    public static void main(String[] args) {
        _03Malware obj = new _03Malware();
        ArrayList<String> iData = new ArrayList<String>();
        ArrayList<String> iData2 = new ArrayList<String>();
        iData.add("abc.txt");
        iData.add("abce");
        iData.add("abcd.txt");
        iData.add("acde.txt");
        iData.add("bxyz.txt");
        iData.add("bcde");
        iData.add("axbz.txt");
        iData.add("abcxd.txt");
        iData.add("acxy.txt");
        iData.add("axzy.txt");

        iData2.add("bcd.txt");
        iData2.add("bce");
        iData2.add("bcdx.txt");
        iData2.add("axcd.txt");
        iData2.add("axde");
        iData2.add("axyz.txt");
        iData2.add("cxyd.txt");
        iData2.add("bcxa.txt");
        iData2.add("bazy.txt");

        List<String> firstList = obj.getFirstcode(iData);
        System.out.println(firstList);

        List<String> secondList = obj.getSecondcode(firstList);
        System.out.println(secondList);

        List<String> firstList2 = obj.getFirstcode(iData2);
        System.out.println(firstList2);

        List<String> secondList2 = obj.getSecondcode(firstList2);
        System.out.println(secondList2);
    }

    public List<String> getFirstcode(List<String> iData){
        List<String> rsltList = new ArrayList<>();
        for(String code : iData){
            if(code.indexOf('.') > 0){
                rsltList.add(code);
            }
        }

        return rsltList;
    }


    public List<String> getSecondcode(List<String> firstCodeNameList){
        boolean case1 = true;
        ArrayList<String> rsltList = new ArrayList<>();

        for(String code : firstCodeNameList){
            String fileName = code.substring(0, code.indexOf('.'));

            if(fileName.indexOf('a') > -1 || fileName.indexOf('x') > -1){
                case1 = false;
            }

            if(!case1) {
                int idxOfa = fileName.indexOf('a');
                int idxOfx = fileName.indexOf('x');

                if(idxOfa >= 0 && idxOfa != fileName.length()-1 && fileName.charAt(idxOfa + 1) == 'b'){
                    case1 = true;
                }

                if(idxOfx >= 0 && idxOfx != fileName.length()-1 && fileName.charAt(idxOfx + 1) == 'y'){
                    case1 = true;
                }

                if(idxOfa >= 0 && idxOfa != fileName.length()-1 &&  fileName.charAt(idxOfa + 1) == 'x'){
                    case1 = true;
                }
            }

            if(case1) rsltList.add(code);
        }

        return rsltList;
    }

}
